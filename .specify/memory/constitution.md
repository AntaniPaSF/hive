<!--
SYNC IMPACT REPORT (v1.0.0)
════════════════════════════════════════════════════════════════

Version Change: INITIAL → 1.0.0 (First ratification)

Modified Principles:
  ✓ I. Accuracy Over Speed - NEW: Establishes correctness as paramount
  ✓ II. Transparency - NEW: Mandates source citations for all answers
  ✓ III. Self-Contained - NEW: Enforces zero external dependencies
  ✓ IV. Reproducible - NEW: Requires quick local setup (<15 min)

Added Sections:
  ✓ Success Metrics - Defines measurable MVP goals
  ✓ Development Workflow - Establishes feature development process

Templates Requiring Updates:
  ⚠ plan-template.md - Constitution Check gates need alignment
  ⚠ spec-template.md - User story priorities align with product principles
  ⚠ tasks-template.md - Task categorization supports RAG/citation requirements

Follow-up TODOs:
  - Templates updated inline with this constitution release
  - No deferred placeholders

Commit Message Suggestion:
  docs: ratify constitution v1.0.0 (HR chatbot principles + governance)

════════════════════════════════════════════════════════════════
-->

# Corporate Digital Assistant Constitution

## Core Principles

### I. Accuracy Over Speed

**MUST** prioritize correctness above response time. Wrong answers erode user trust and undermine the chatbot's value proposition.

**Rules**:
- Do NOT generate an answer if no supporting citation exists in the knowledge base
- Hallucinations are prohibited—better to respond "I don't know" than provide false information
- RAG retrieval MUST anchor every response to source documents
- Answers without verifiable sources MUST be rejected at the response layer

**Rationale**: Employees rely on this system for critical policy decisions (vacation approvals, expense limits, travel rules). A single incorrect answer can cause compliance violations, financial errors, or damaged credibility that takes months to recover from.

### II. Transparency

**MUST** provide source citations for every answer generated by the system.

**Rules**:
- Every response MUST include document name and section reference
- Citations MUST be clickable/navigable to the original source material
- Users MUST be able to verify answers independently
- The retrieval process MUST be traceable for debugging and auditing

**Rationale**: Users need to verify policies for high-stakes decisions. Showing sources builds trust, enables self-service deeper dives, and allows rapid identification of stale/incorrect documentation.

### III. Self-Contained

**MUST** operate with zero external dependencies on cloud APIs or paid services.

**Rules**:
- Use only open-source embeddings and LLMs (no OpenAI, Anthropic, Cohere, etc.)
- Vector database MUST be self-hosted (ChromaDB, FAISS, or equivalent)
- All components MUST run on CPU-only hardware (no GPU requirement for MVP)
- No internet connectivity required after initial setup/installation

**Rationale**: Corporate environments often restrict external API access due to data privacy regulations. Self-contained architecture enables deployment behind firewalls, reduces operational costs, and ensures reproducibility across development/staging/production environments.

### IV. Reproducible

**MUST** enable anyone to run the full system locally in under 15 minutes from `git clone`.

**Rules**:
- `docker-compose up` or equivalent single-command startup
- All dependencies MUST be version-pinned and containerized
- Setup scripts MUST be idempotent (safe to run multiple times)
- Documentation MUST include zero-to-running quickstart guide

**Rationale**: Rapid onboarding accelerates developer productivity, enables distributed teams to contribute without environment debugging, and ensures demos/evaluations can happen immediately without IT intervention.

## Success Metrics

The MVP MUST satisfy these measurable criteria before deployment:

1. **Accuracy**: Answer 80%+ of test questions correctly (validated against expert-reviewed ground truth)
2. **Citations**: Provide source references for 100% of answers (no unsourced claims)
3. **Performance**: Respond in <10 seconds on CPU-only hardware (measured at p95)
4. **Reproducibility**: Full system operational <15 minutes after `git clone` (validated on clean Linux/macOS environments)

## Development Workflow

### Feature Specification

All features MUST follow the `/speckit.plan` workflow:

1. User stories MUST be prioritized (P1, P2, P3) based on:
   - Accuracy impact (affects answer correctness)
   - Transparency impact (affects source visibility)
   - Reproducibility impact (affects setup time)
2. Each user story MUST be independently testable as an MVP increment
3. Acceptance criteria MUST map to constitution principles where applicable

### Quality Gates

Before merging to main branch:

- **RAG Validation**: Retrieve at least one source document for every test query
- **Citation Check**: Verify all responses include document name + section reference
- **Reproducibility Test**: Validate `docker-compose up` succeeds on clean environment
- **Performance Check**: Confirm p95 response time <10 seconds on reference hardware

### Non-Negotiable Constraints

- **No hallucinations**: Reject responses without source citations
- **No paid APIs**: All inference MUST use self-hosted models
- **No assumptions**: When source is ambiguous, respond "I need more context" rather than guessing

## Governance

This constitution supersedes all other development practices and decisions. Any deviation MUST be:

1. **Documented**: File an issue explaining the conflict and proposed alternative
2. **Approved**: Obtain explicit sign-off from product owner or tech lead
3. **Time-Boxed**: Include sunset date for temporary exceptions

**Amendment Process**:
- Constitution changes require version increment per semantic versioning
- MAJOR: Removal/redefinition of core principles (e.g., allowing external APIs)
- MINOR: Addition of new principles or material expansions (e.g., adding security section)
- PATCH: Clarifications, wording fixes, typo corrections

**Compliance Review**:
- All PRs MUST reference which principles they satisfy/affect
- Monthly audits of production system against accuracy/performance metrics
- Quarterly reviews of whether constitution constraints remain appropriate

**Version**: 1.0.0 | **Ratified**: 2026-01-21 | **Last Amended**: 2026-01-21
